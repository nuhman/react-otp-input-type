"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=t(e);function r(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===o&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}r("#word-input-container{width:-moz-fit-content;width:fit-content}");r(".form-control{border:1.5px solid #d3d3d3;border-radius:10px;height:32px;margin:4px;text-align:center;-webkit-transition:none;transition:none;width:32px}.form-control:focus,.form-control:focus-visible{box-shadow:0 0 5pt .5pt #d3d3d3;outline:none}.form-control.form-control-solid{background-color:#f3f6f9;border-color:#f3f6f9;color:#3f4254;transition:color .15s ease,background-color .15s ease,border-color .15s ease,box-shadow .15s ease}.form-control.form-control-solid.active,.form-control.form-control-solid.focus,.form-control.form-control-solid:active,.form-control.form-control-solid:focus{box-shadow:0 0 5pt .5pt #d3d3d3;outline:none}.form-error{border-color:#e74c3c;box-shadow:0 0 5pt .5pt #e74c3c;transition:color .15s ease,background-color .15s ease,border-color .15s ease,box-shadow .15s ease}.form-error.active,.form-error.focus,.form-error:active,.form-error:focus{box-shadow:0 0 5pt .5pt #d3d3d3;outline:none}");const n=({index:e,type:t,isDisabled:r,minLength:n,maxLength:l,inputRef:s,value:a,placeholder:c,hasError:i,handleInputFocus:d,handleInputValue:f,handlekeyDown:u,handleOnPaste:p,styleObject:h})=>{const m="object"==typeof h;return o.default.createElement("input",{className:"form-control "+(i?"form-error":"form-control-solid"),disabled:r,type:t,minLength:n,maxLength:l,ref:s,value:a,placeholder:c,onFocus:d,style:m?h:void 0,onChange:t=>f(t,e),onKeyDown:t=>u(t,e),onPaste:t=>p(t,e)})};exports.OTPInputField=({numOfInputs:t=4,isOnlyNumberAllowed:r=!1,isDisabled:l=!1,maskInput:s=!1,hasError:a=!1,value:c="",handleChange:i=(e=>e),placeholder:d="",styleObject:f})=>{const u=t,p=s?"password":r?"tel":"text",h="string"==typeof c?c.split("").slice(0,u):[],m="string"==typeof d?d.split("").slice(0,u):[],[y,g]=e.useState(Array.from({length:u},((e,t)=>!h.length||t>h.length-1?"":h[t]))),[b]=e.useState(Array.from({length:u},((e,t)=>!m.length||t>m.length-1?"":m[t]))),[x]=e.useState(Array.from({length:u},(()=>o.default.createRef())));e.useEffect((()=>{Array.isArray(y)&&i(y.join(""))}),[y,i]);const[v]=e.useState(r?/^[0-9]+$/:/^.+$/),w=e=>{if(!(e>=u-1||e<-1))return x[e+1].current.focus()},k=e=>{if(!(e<=0))return x[e-1].current.focus()},A=(e,t)=>{const o=e?.target?.value;v.test(o)&&(g([...y.slice(0,t),o,...y.slice(t+1)]),w(t))},C=(e,t)=>{if(8===e.keyCode||"Backspace"===e.key||46===e.keyCode||"Delete"===e.key){const e=y[t];g([...y.slice(0,t),"",...y.slice(t+1)]),e||k(t)}else 37===e.keyCode||"ArrowLeft"===e.key?k(t):39!==e.keyCode&&"ArrowRight"!==e.key||w(t)},D=(e,t)=>{e.preventDefault();const o=(e?.clipboardData?.getData("text/plain")||"").slice(0,u-t).split(""),r=t+o.length>=u;g(r?[...y.slice(0,t),...o].slice(0,u):[...y.slice(0,t),...o,...y.slice(o.length+1)].slice(0,u)),w(t+o.length-2)},E=e=>e.target.select();return o.default.createElement("div",{id:"word-input-container"},Array.from({length:u},((e,t)=>o.default.createElement(n,{type:p,key:`otp-single-input-${t}`,index:t,minLength:1,maxLength:1,inputRef:x[t],value:y[t],handleInputFocus:E,handleInputValue:A,handlekeyDown:C,handleOnPaste:D,placeholder:b[t],isDisabled:l,hasError:a,styleObject:f}))))};
